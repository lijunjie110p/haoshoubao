{"version":3,"sources":["uni-app:///main.js","webpack:///D:/项目/haoshoubao/pages/setting/setting.vue?ea26","webpack:///D:/项目/haoshoubao/pages/setting/setting.vue?d1b9","webpack:///D:/项目/haoshoubao/pages/setting/setting.vue?ada3","webpack:///D:/项目/haoshoubao/pages/setting/setting.vue?2f41","uni-app:///pages/setting/setting.vue","webpack:///D:/项目/haoshoubao/pages/setting/setting.vue?804e","webpack:///D:/项目/haoshoubao/pages/setting/setting.vue?924f"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACoM;AACpM,gBAAgB,2MAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,kOAEN;AACL,GAAG;AACH;AACA,WAAW,4QAEN;AACL,GAAG;AACH;AACA,WAAW,sQAEN;AACL,GAAG;AACH;AACA,WAAW,oPAEN;AACL,GAAG;AACH;AACA,WAAW,8OAEN;AACL,GAAG;AACH;AACA,WAAW,8OAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAywB,CAAgB,uwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0C7xB,+C;;;;AAIA;AACA;AACA,4DADA,CADA;;AAIA,MAJA,kBAIA;AACA;AACA,sBADA;AAEA,yBAFA;AAGA,oBAHA;AAIA,kBAJA;AAKA,qBALA,EAKA;AACA,sBANA,EAMA;AACA,iBAPA,EAOA;AACA,6BARA,EAQA;AACA,qBATA,EASA;AACA,4BAVA,EAUA;AACA,8BAXA;AAYA,0BAZA,EAYA;AACA,wBAbA;;AAeA,GApBA;AAqBA,QArBA,oBAqBA;AACA;AACA;AACA;AACA,GAzBA;AA0BA;AACA,mDADA;AAEA,UAFA,kBAEA,MAFA,EAEA;AACA;;AAEA,KALA;AAMA,mBANA,6BAMA;AACA;AACA;AACA;AACA,KAVA;AAWA,mBAXA,6BAWA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,gCADA;;AAGA;AACA,KAnBA;AAoBA,YApBA,sBAoBA;AACA;AACA;AACA,6BADA;;AAGA,KAzBA;AA0BA,QA1BA,gBA0BA,GA1BA,EA0BA;AACA;AACA,gBADA;;AAGA,KA9BA;AA+BA,YA/BA,sBA+BA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA,OAVA;AAWA,KA5CA;AA6CA,cA7CA,wBA6CA;AACA;AACA;AACA;AACA,mBADA;AAEA,2BAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,4BAFA;AAGA,uBAHA,qBAGA;AACA;AACA;AACA,iBANA;;AAQA,aATA;AAUA;AACA,SAlBA;;AAoBA,KApEA;AAqEA,SArEA,iBAqEA,IArEA,EAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,OAbA,MAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCADA;;AAGA,eAJA,EAIA,GAJA;AAKA,aARA,MAQA;AACA;AACA;AACA;AACA;AACA,SAnBA,MAmBA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,iCAFA;AAGA,+BAHA;;AAKA;AACA;;AAEA;AACA;AACA;AACA,iBAHA,EAGA,GAHA;AAIA,eAbA,MAaA;AACA;AACA;AACA;AACA;AACA,WAvBA,MAuBA;AACA;AACA;AACA;AACA;AACA;AACA,KA3IA;AA4IA;AACA,aA7IA,uBA6IA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KA1JA;AA2JA;AACA,cA5JA,sBA4JA,QA5JA,EA4JA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,KA5KA;AA6KA;AACA,mBA9KA,6BA8KA;AACA;AACA;AACA,qBADA;AAEA,2CAFA;AAGA,2BAHA;AAIA,2BAJA;;AAMA;AACA;AACA;AACA;AACA,KA1LA;AA2LA;AACA,uBA5LA,iCA4LA;AACA;AACA;AACA;AACA;AACA;AACA,cADA,GACA,qBADA;AAEA,KAnMA;AAoMA;AACA,eArMA,yBAqMA;AACA,4CADA;AAEA,yBAFA,GAEA,4CAFA;AAGA;AACA,qCADA;AAEA,6CAFA;AAGA,kCAHA;AAIA,iCAJA;AAKA;AACA,8CADA;AAEA,0CAFA,EALA,GAHA,SAGA,GAHA;;;AAaA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA,wCADA;AAEA,gCAFA;;AAIA,iBArBA;;AAuBA,KA5NA;AA6NA;AACA,aA9NA,uBA8NA;AACA;AACA;AACA;AACA;AACA,KAnOA,GA1BA,E;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAk5C,CAAgB,y0CAAG,EAAC,C;;;;;;;;;;;ACAt6C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/setting/setting.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/setting/setting.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./setting.vue?vue&type=template&id=9543fcb0&\"\nvar renderjs\nimport script from \"./setting.vue?vue&type=script&lang=js&\"\nexport * from \"./setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setting.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/setting/setting.vue\"\nexport default component.exports","export * from \"-!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=template&id=9543fcb0&\"","var components = {\n  uGap: function() {\n    return import(\n      /* webpackChunkName: \"components/uview-ui/components/u-gap/u-gap\" */ \"@/components/uview-ui/components/u-gap/u-gap.vue\"\n    )\n  },\n  uCellGroup: function() {\n    return import(\n      /* webpackChunkName: \"components/uview-ui/components/u-cell-group/u-cell-group\" */ \"@/components/uview-ui/components/u-cell-group/u-cell-group.vue\"\n    )\n  },\n  uCellItem: function() {\n    return import(\n      /* webpackChunkName: \"components/uview-ui/components/u-cell-item/u-cell-item\" */ \"@/components/uview-ui/components/u-cell-item/u-cell-item.vue\"\n    )\n  },\n  uSwitch: function() {\n    return import(\n      /* webpackChunkName: \"components/uview-ui/components/u-switch/u-switch\" */ \"@/components/uview-ui/components/u-switch/u-switch.vue\"\n    )\n  },\n  uModal: function() {\n    return import(\n      /* webpackChunkName: \"components/uview-ui/components/u-modal/u-modal\" */ \"@/components/uview-ui/components/u-modal/u-modal.vue\"\n    )\n  },\n  uPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uview-ui/components/u-popup/u-popup\" */ \"@/components/uview-ui/components/u-popup/u-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([\n    _vm.needAuthenticate && !_vm.pwdError\n      ? {\n          color: \"#999999\"\n        }\n      : _vm.needAuthenticate && _vm.pwdError\n      ? {\n          color: \"#FF0000\"\n        }\n      : {\n          color: \"\"\n        }\n  ])\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showModel = true\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"main\">\r\n\t\t<u-gap height=\"20\" bg-color=\"#F6F6F6\"></u-gap>\r\n\t\t<u-cell-group :border=\"false\">\r\n\t\t\t<u-cell-item @click=\"securitySetting\" :titleStyle=\"{fontSize:'30rpx'}\" title=\"安全设置\"></u-cell-item>\r\n\t\t\t<u-cell-item :border-bottom=\"false\" :titleStyle=\"{fontSize:'30rpx'}\" title=\"推送设置\" :arrow=\"false\">\r\n\t\t\t\t<u-switch slot=\"right-icon\" active-color=\"#FFBA37\" v-model=\"checked\" @change=\"change\"></u-switch>\r\n\t\t\t</u-cell-item>\r\n\t\t</u-cell-group>\r\n\t\t<u-gap height=\"20\" bg-color=\"#F6F6F6\"></u-gap>\r\n\t\t<u-cell-group :border=\"false\">\r\n\t\t\t<u-cell-item @click=\"jump('../public/addAccount?type=changeMobile')\" :titleStyle=\"{fontSize:'30rpx'}\" title=\"修改手机\"></u-cell-item>\r\n\t\t\t<!-- <u-cell-item @click=\"jump('../public/addAccount?type=changeWx')\" :border-bottom=\"false\" :titleStyle=\"{fontSize:'30rpx'}\"\r\n\t\t\t title=\"更换微信\"></u-cell-item> -->\r\n\t\t</u-cell-group>\r\n\t\t<u-gap height=\"20\" bg-color=\"#F6F6F6\"></u-gap>\r\n\t\t<u-cell-group :border=\"false\">\r\n\t\t\t<u-cell-item :border-bottom=\"false\" @click=\"clearCache\" :value=\"cache\" :titleStyle=\"{fontSize:'30rpx'}\" title=\"清除缓存\"></u-cell-item>\r\n\t\t</u-cell-group>\r\n\t\t<u-gap height=\"20\" bg-color=\"#F6F6F6\"></u-gap>\r\n\t\t<view class=\"footbtn\" @click=\"jump('account')\"><text>账号管理</text></view>\r\n\t\t<u-gap height=\"20\" bg-color=\"#F6F6F6\"></u-gap>\r\n\t\t<view class=\"footbtn\" v-if=\"hasLogin\" @click=\"showModel=true\"><text style=\"color: #FB3034;\">安全退出</text></view>\r\n\t\t<u-modal confirm-color=\"#FFBA37\" :show-cancel-button=\"true\" v-model=\"showModel\" @confirm=\"outlogin\" content=\"是否退出登录\"></u-modal>\r\n\t\t<u-popup :safe-area-inset-bottom=\"true\" border-radius=\"15\" :closeable=\"true\" v-model=\"showSecurity\" mode=\"bottom\"\r\n\t\t length=\"80%\">\r\n\t\t\t<view class=\"lock-tips\">\r\n\t\t\t\t<view class=\"big-tips\" :style=\"[needAuthenticate&&!pwdError?{color:'#999999'}:needAuthenticate&&pwdError?{color:'#FF0000'}:{color:''}]\">{{text}}</view>\r\n\t\t\t\t<view class=\"small-tips\" v-if=\"lockType == 2 || (lockType == 3 && !needAuthenticate)\">请牢记您的密码，忘记后将无法找回</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"container-lock\">\r\n\t\t\t\t<mpvue-gesture-lock ref=\"mpvueGestureLock\" :containerWidth=\"screenWidth\" :cycleRadius=\"30\" @end=\"onEnd\" :password=\"password\"></mpvue-gesture-lock>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"container-confirm\" v-if=\"showLockConfirm\">\r\n\t\t\t\t<view class=\"lock-reset\" @click=\"resetLock\">重绘</view>\r\n\t\t\t\t<view :class=\"[confirmEnable?'':'disable-confirm']\" @click=\"lockConfirm\">确认</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex';\r\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['hasLogin', 'userInfo', 'pushState'])\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowModel: false,\r\n\t\t\t\tshowSecurity: false,\r\n\t\t\t\tchecked: false,\r\n\t\t\t\tpassword: [],\r\n\t\t\t\tscreenWidth: '', //屏幕宽度\r\n\t\t\t\tscreenHeight: '', //屏幕高度\r\n\t\t\t\tlockType: 2, //手势锁认证类型（1-解锁、2、注册、3-修改）\r\n\t\t\t\tneedAuthenticate: false, //是否需要认证（解锁、修改需要和设定好的密码做认证）\r\n\t\t\t\tpwdError: false, //手势认证是否通过\r\n\t\t\t\tshowLockConfirm: false, //是否显示确认\r\n\t\t\t\ttext: '绘制你的手势图案，至少连接4个点',\r\n\t\t\t\tconfirmEnable: false, //是否确认可点击\r\n\t\t\t\tcache:'当前缓存(0kb)'\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.checked = this.pushState\r\n\t\t\tthis.getScreenHeight();\r\n\t\t\tthis.getChahe();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['logout', 'pushChange']),\r\n\t\t\tchange(status) {\r\n\t\t\t\tthis.pushChange(status)\r\n\r\n\t\t\t},\r\n\t\t\tgetScreenHeight() {\r\n\t\t\t\t//测量屏幕宽度（得到的是px单位）\r\n\t\t\t\tconst deviceInfo = uni.getSystemInfoSync();\r\n\t\t\t\tthis.screenWidth = deviceInfo.screenWidth;\r\n\t\t\t},\r\n\t\t\tsecuritySetting() {\r\n\t\t\t\tif (this.hasLogin) {\r\n\t\t\t\t\tthis.showSecurity = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '../public/login'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\toutlogin() {\r\n\t\t\t\tthis.logout();\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '../index/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tjump(url) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: url\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetChahe(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tplus.cache.calculate(function(size) { //size是多少个字节单位是b\r\n\t\t\t\t\t//你可以做下面相应的处理\r\n\t\t\t\t\tif (size < 1024) {\r\n\t\t\t\t\t\tthat.cache ='当前占用(' +size + 'B)';\r\n\t\t\t\t\t} else if (size / 1024 >= 1 && size / 1024 / 1024 < 1) {\r\n\t\t\t\t\t\tthat.cache = '当前占用(' +Math.floor(size / 1024 * 100) / 100 + 'KB)';\r\n\t\t\t\t\t} else if (size / 1024 / 1024 >= 1) {\r\n\t\t\t\t\t\tthat.cache = '当前占用(' +Math.floor(size / 1024 / 1024 * 100) / 100 + 'M)';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclearCache() {\r\n\t\t\t\t//可以询问用户是否删除\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定清除缓存吗?',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// 用户确定要删除\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t//使用plus.cache.clear 清除应用中的缓存数据 这里清除后还要二十几KB没有清除，达不到全部清除\r\n\t\t\t\t\t\t\tplus.cache.clear(function(e) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '清除成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t\t\tthat.cache ='当前占用(0B)';\r\n\t\t\t\t\t\t\t\t\t\t//成功后处理\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonEnd(data) {\r\n\t\t\t\tif (this.password.length) {\r\n\t\t\t\t\t/* ***********二次认证*********** */\r\n\t\t\t\t\tif (this.lockType == 1) {\r\n\t\t\t\t\t\t//1、登录\r\n\t\t\t\t\t\tconsole.log(\"认证失败次数1：\" + this.errorTimes);\r\n\t\t\t\t\t\tthis.overFailedTimes();\r\n\t\t\t\t\t} else if (this.lockType == 2) {\r\n\t\t\t\t\t\t//2、注册\r\n\t\t\t\t\t\tthis.secondDraw(data);\r\n\t\t\t\t\t} else if (this.lockType == 3) {\r\n\t\t\t\t\t\t//3、修改-重新设置\r\n\t\t\t\t\t\tthis.secondDraw(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t/* ************首次绘制************ */\r\n\t\t\t\t\tthis.password = data;\r\n\t\t\t\t\tif (this.lockType == 1) {\r\n\t\t\t\t\t\t//1、登录\r\n\t\t\t\t\t\tconsole.log(\"认证失败次数1：\" + this.errorTimes);\r\n\t\t\t\t\t\tif (!this.overFailedTimes()) {\r\n\t\t\t\t\t\t\t//解锁\r\n\t\t\t\t\t\t\tconsole.log(\"密码：\" + this.password.join(''));\r\n\t\t\t\t\t\t\tif ((this.password.join('')) == this.serverPwd) {\r\n\t\t\t\t\t\t\t\tthis.text = '解锁成功';\r\n\t\t\t\t\t\t\t\tthis.needAuthenticate = false;\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\turl: '../index/index'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.certificationFailed();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.password = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (this.lockType == 2) {\r\n\t\t\t\t\t\t//2、注册\r\n\t\t\t\t\t\tthis.firstDraw();\r\n\t\t\t\t\t} else if (this.lockType == 3) {\r\n\t\t\t\t\t\t//3、修改密码\r\n\t\t\t\t\t\tif (this.needAuthenticate) {\r\n\t\t\t\t\t\t\tconsole.log(\"认证失败次数1：\" + this.errorTimes);\r\n\t\t\t\t\t\t\tif (!this.overFailedTimes()) {\r\n\t\t\t\t\t\t\t\t//修改需要先认证\r\n\t\t\t\t\t\t\t\tconsole.log(\"修改-密码认证：\" + this.password.join(''));\r\n\t\t\t\t\t\t\t\tif ((this.password.join('')) == this.serverPwd) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"手势认证通过\",\r\n\t\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\t\tduration: 500\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.text = '手势认证通过';\r\n\t\t\t\t\t\t\t\t\tthis.pwdError = false;\r\n\r\n\t\t\t\t\t\t\t\t\tsetTimeout(res => {\r\n\t\t\t\t\t\t\t\t\t\tthis.text = '绘制你的手势图案，至少连接4个点';\r\n\t\t\t\t\t\t\t\t\t\tthis.needAuthenticate = false;\r\n\t\t\t\t\t\t\t\t\t}, 800);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.certificationFailed();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.password = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//修改密码-第一次绘制(认证通过)\r\n\t\t\t\t\t\t\tthis.firstDraw();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 注册、修改-第一次绘制手势 */\r\n\t\t\tfirstDraw() {\r\n\t\t\t\tif (this.lockType == 1) {\r\n\t\t\t\t\tconsole.log(\"注册-绘制第一次\");\r\n\t\t\t\t} else if (this.lockType == 3) {\r\n\t\t\t\t\tconsole.log(\"修改密码-重新设置第一次\");\r\n\t\t\t\t}\r\n\t\t\t\tif (this.password.length < 4) {\r\n\t\t\t\t\tthis.text = '至少连接4个点，请重新绘制';\r\n\t\t\t\t\tthis.password = [];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.text = '再次绘制图案进行确认';\r\n\t\t\t\t\tthis.showLockConfirm = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 注册、修改-第二次绘制手势 */\r\n\t\t\tsecondDraw(pwdAgain) {\r\n\t\t\t\tif (this.lockType == 1) {\r\n\t\t\t\t\tconsole.log(\"注册-绘制第二次\");\r\n\t\t\t\t} else if (this.lockType == 3) {\r\n\t\t\t\t\tconsole.log(\"修改密码-重新设置第二次\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.password.join('') === pwdAgain.join('')) {\r\n\t\t\t\t\tthis.text = '手势设定完成,点击确认完成设定';\r\n\t\t\t\t\tthis.confirmEnable = true;\r\n\t\t\t\t\t// this.password = []\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.text = '两次手势设定不一致'\r\n\t\t\t\t\tthis.confirmEnable = false;\r\n\t\t\t\t\tthis.password = []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 检查认证错误次数 */\r\n\t\t\toverFailedTimes() {\r\n\t\t\t\tif (this.errorTimes > this.maxErrorTimes - 1) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: \"警告\",\r\n\t\t\t\t\t\tcontent: \"今日认证失败超过限制次数，你的设备已被锁定！\",\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tconfirmText: \"好哒\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.password = [];\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t/* 手势认证失败 */\r\n\t\t\tcertificationFailed() {\r\n\t\t\t\tthis.text = '手势认证未通过';\r\n\t\t\t\tthis.pwdError = true;\r\n\t\t\t\tthis.needAuthenticate = true;\r\n\t\t\t\tthis.errorTimes++;\r\n\t\t\t\tconsole.log(\"errorTimes:\" + this.errorTimes + \";maxError:\" + this.maxErrorTimes + \";error：\" + this.pwdError +\r\n\t\t\t\t\t\";need:\" + this.needAuthenticate);\r\n\t\t\t},\r\n\t\t\t/* 确认手势密码 */\r\n\t\t\tasync lockConfirm() {\r\n\t\t\t\tif (this.confirmEnable == true) {\r\n\t\t\t\t\tlet safe_lock = this.password.toString().replace(/,/g, '')\r\n\t\t\t\t\tlet res = await this.http.request({\r\n\t\t\t\t\t\tapi_source: 'app',\r\n\t\t\t\t\t\turi: '/Basic/set_prodect',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdevice: 'web',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tuid: this.userInfo.uid,\r\n\t\t\t\t\t\t\tsafe_lock\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res.data.status == 1) {\r\n\t\t\t\t\t\tthis.$u.toast('设置成功')\r\n\t\t\t\t\t\tthis.showSecurity = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.info,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 重绘密码 */\r\n\t\t\tresetLock() {\r\n\t\t\t\tthis.text = \"绘制你的手势图案，至少连接4个点\";\r\n\t\t\t\tthis.password = [];\r\n\t\t\t\t//引入子组件文件，然后用ref给子组件一个id标识，然后通过this.$refs.组件名.组件方法;调用子组件方法\r\n\t\t\t\tthis.$refs.mpvueGestureLock.refesh();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground: #F6F6F6;\r\n\t}\r\n\r\n\t.footbtn {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 32rpx;\r\n\t\tbackground: #FFF;\r\n\t\theight: 90rpx;\r\n\t\tline-height: 90rpx;\r\n\t}\r\n\r\n\t.lock-tips {\r\n\t\theight: 90rpx;\r\n\t\tpadding: 20rpx 0;\r\n\t\tmargin: 0 !important;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\ttext-align: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.big-tips {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333333;\r\n\t\ttext-align: center;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.small-tips {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t\ttext-align: center;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-top: 5rpx;\r\n\t}\r\n\r\n\t.container-lock {\r\n\t\tbackground-color: #FCFCFC;\r\n\t}\r\n\r\n\t.container-confirm {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\theight: 16%;\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\ttext-align: center;\r\n\r\n\t\tview {\r\n\t\t\tcolor: #666666;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\ttext-align: center;\r\n\t\t\tflex: 1;\r\n\t\t\twidth: 80%;\r\n\t\t\tmargin: 0 5%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tline-height: 100rpx;\r\n\t\t\tborder: 1px solid #F0F0F0;\r\n\t\t\tborder-radius: 50rpx;\r\n\t\t}\r\n\r\n\t\t.disable-confirm {\r\n\t\t\tcolor: #A0A0A0;\r\n\t\t\tbackground-color: #F5F5F5;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setting.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1598516751855\n      var cssReload = require(\"D:/软件/HBuilderX.2.8.8.20200820.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}